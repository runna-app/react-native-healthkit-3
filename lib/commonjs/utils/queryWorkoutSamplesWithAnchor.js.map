{"version":3,"names":["_deserializeWorkout","_interopRequireDefault","require","_getPreferredUnitsTyped","_prepareOptions","_nativeTypes","e","__esModule","default","queryCategorySamplesWithAnchor","options","opts","prepareOptions","energyUnit","distanceUnit","getPreferredUnitsTyped","raw","Native","queryWorkoutSamplesWithAnchor","from","to","limit","anchor","samples","map","deserializeWorkout","deletedSamples","newAnchor","_default","exports"],"sources":["queryWorkoutSamplesWithAnchor.ts"],"sourcesContent":["import deserializeWorkout from './deserializeWorkout'\nimport getPreferredUnitsTyped from './getPreferredUnitsTyped'\nimport prepareOptions from './prepareOptions'\nimport Native from '../native-types'\n\nimport type {\n  EnergyUnit, LengthUnit,\n} from '../native-types'\nimport type {\n  DeletedWorkoutSampleRaw, HKWorkout, QueryWorkoutsOptions,\n} from '../types'\n\nexport type QueryWorkoutSamplesWithAnchorResponse<\n  TEnergy extends EnergyUnit,\n  TDistance extends LengthUnit\n> = {\n  readonly samples: readonly HKWorkout<TEnergy, TDistance>[],\n  readonly deletedSamples: readonly DeletedWorkoutSampleRaw[],\n  readonly newAnchor: string\n}\n\nasync function queryCategorySamplesWithAnchor<\n  TEnergy extends EnergyUnit,\n  TDistance extends LengthUnit\n>(\n  options: Omit<QueryWorkoutsOptions<TEnergy, TDistance>, 'ascending'>,\n): Promise<QueryWorkoutSamplesWithAnchorResponse<TEnergy, TDistance>> {\n  const opts = prepareOptions(options)\n  const { energyUnit, distanceUnit } = await getPreferredUnitsTyped(options)\n  const raw = await Native.queryWorkoutSamplesWithAnchor(\n    energyUnit,\n    distanceUnit,\n    opts.from,\n    opts.to,\n    opts.limit,\n    opts.anchor,\n  )\n\n  return {\n    samples: raw.samples.map(deserializeWorkout),\n    deletedSamples: raw.deletedSamples,\n    newAnchor: raw.newAnchor,\n  }\n}\n\nexport default queryCategorySamplesWithAnchor\n"],"mappings":";;;;;;AAAA,IAAAA,mBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,uBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,eAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,YAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAkBpC,eAAeG,8BAA8BA,CAI3CC,OAAoE,EACA;EACpE,MAAMC,IAAI,GAAG,IAAAC,uBAAc,EAACF,OAAO,CAAC;EACpC,MAAM;IAAEG,UAAU;IAAEC;EAAa,CAAC,GAAG,MAAM,IAAAC,+BAAsB,EAACL,OAAO,CAAC;EAC1E,MAAMM,GAAG,GAAG,MAAMC,oBAAM,CAACC,6BAA6B,CACpDL,UAAU,EACVC,YAAY,EACZH,IAAI,CAACQ,IAAI,EACTR,IAAI,CAACS,EAAE,EACPT,IAAI,CAACU,KAAK,EACVV,IAAI,CAACW,MACP,CAAC;EAED,OAAO;IACLC,OAAO,EAAEP,GAAG,CAACO,OAAO,CAACC,GAAG,CAACC,2BAAkB,CAAC;IAC5CC,cAAc,EAAEV,GAAG,CAACU,cAAc;IAClCC,SAAS,EAAEX,GAAG,CAACW;EACjB,CAAC;AACH;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAArB,OAAA,GAEcC,8BAA8B","ignoreList":[]}