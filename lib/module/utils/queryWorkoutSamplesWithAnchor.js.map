{"version":3,"names":["deserializeWorkout","getPreferredUnitsTyped","prepareOptions","Native","queryCategorySamplesWithAnchor","options","opts","energyUnit","distanceUnit","raw","queryWorkoutSamplesWithAnchor","from","to","limit","anchor","samples","map","deletedSamples","newAnchor"],"sources":["queryWorkoutSamplesWithAnchor.ts"],"sourcesContent":["import deserializeWorkout from './deserializeWorkout'\nimport getPreferredUnitsTyped from './getPreferredUnitsTyped'\nimport prepareOptions from './prepareOptions'\nimport Native from '../native-types'\n\nimport type {\n  EnergyUnit, LengthUnit,\n} from '../native-types'\nimport type {\n  DeletedWorkoutSampleRaw, HKWorkout, QueryWorkoutsOptions,\n} from '../types'\n\nexport type QueryWorkoutSamplesWithAnchorResponse<\n  TEnergy extends EnergyUnit,\n  TDistance extends LengthUnit\n> = {\n  readonly samples: readonly HKWorkout<TEnergy, TDistance>[],\n  readonly deletedSamples: readonly DeletedWorkoutSampleRaw[],\n  readonly newAnchor: string\n}\n\nasync function queryCategorySamplesWithAnchor<\n  TEnergy extends EnergyUnit,\n  TDistance extends LengthUnit\n>(\n  options: Omit<QueryWorkoutsOptions<TEnergy, TDistance>, 'ascending'>,\n): Promise<QueryWorkoutSamplesWithAnchorResponse<TEnergy, TDistance>> {\n  const opts = prepareOptions(options)\n  const { energyUnit, distanceUnit } = await getPreferredUnitsTyped(options)\n  const raw = await Native.queryWorkoutSamplesWithAnchor(\n    energyUnit,\n    distanceUnit,\n    opts.from,\n    opts.to,\n    opts.limit,\n    opts.anchor,\n  )\n\n  return {\n    samples: raw.samples.map(deserializeWorkout),\n    deletedSamples: raw.deletedSamples,\n    newAnchor: raw.newAnchor,\n  }\n}\n\nexport default queryCategorySamplesWithAnchor\n"],"mappings":"AAAA,OAAOA,kBAAkB,MAAM,sBAAsB;AACrD,OAAOC,sBAAsB,MAAM,0BAA0B;AAC7D,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,MAAM,MAAM,iBAAiB;AAkBpC,eAAeC,8BAA8BA,CAI3CC,OAAoE,EACA;EACpE,MAAMC,IAAI,GAAGJ,cAAc,CAACG,OAAO,CAAC;EACpC,MAAM;IAAEE,UAAU;IAAEC;EAAa,CAAC,GAAG,MAAMP,sBAAsB,CAACI,OAAO,CAAC;EAC1E,MAAMI,GAAG,GAAG,MAAMN,MAAM,CAACO,6BAA6B,CACpDH,UAAU,EACVC,YAAY,EACZF,IAAI,CAACK,IAAI,EACTL,IAAI,CAACM,EAAE,EACPN,IAAI,CAACO,KAAK,EACVP,IAAI,CAACQ,MACP,CAAC;EAED,OAAO;IACLC,OAAO,EAAEN,GAAG,CAACM,OAAO,CAACC,GAAG,CAAChB,kBAAkB,CAAC;IAC5CiB,cAAc,EAAER,GAAG,CAACQ,cAAc;IAClCC,SAAS,EAAET,GAAG,CAACS;EACjB,CAAC;AACH;AAEA,eAAed,8BAA8B","ignoreList":[]}